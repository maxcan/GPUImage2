db.dropDatabase()
db.DocFile.find({boxSession: {$exists: 1}, "boxSession.urls": {$notExists: 1}})
db.DocFile.find({boxSession: {$exists: 1}, "boxSession.urls": {$exists: false}})
db.DocFile.find({boxSession: {$exists: 1}, "boxSession.urls": {$exists: false}}).pretty()
db.DocFile.find({boxSession: {$exists: 1}, "boxSession.urls": {$exists: false}}).pretty().count()
db.DocFile.find({ "boxSession.urls": {$exists: false}}).pretty().count()
db.dropDatabase()
db.DocFile.find({ "boxSession.urls": {$exists: false}}).pretty().count()
db.DocFile.find({boxSession: {$exists: 1}, "boxSession.urls": {$exists: false}}).pretty().count()
db.dropDatabase()
db.HostData.drop()
db.DocRead.drop()
db.HostData.find()
db.dropDatabase()
db.dropDatabase()
db.MetricsThread.find()
db.dropDatabase()
db.MetricsThread.find()
db.MetricsThread.update({}, { "$set": { "lastRun" : new Date(), "_locked": false }})
db.MetricsThread.find()
db.MetricsThread.findOne()
t = db.MetricsThread.findOne()
show collections
db.MetricsThread.findOne()
db.dropDatabase()
db.dropDatabase()
db.DocRead.aggregate({"$group": { "totalTime": { "$sum": { "$subtract" : ["end
db.DocRead.aggregate({"$group": { "totalTime": { "$sum": { "$subtract" : ["end", "pageReads[0].start"] }  } } })
db.DocRead.aggregate({"$group": { "_id": 'a', "totalTime": { "$sum": { "$subtract" : ["end", "pageReads[0].start"] }  } } })
db.DocRead.aggregate({"$group": { "_id": 'a', "totalTime": { "$sum": { "$subtract" : ["$end", "$pageReads[0].start"] }  } } })
db.DocRead.aggregate({"$group": { "_id": null, "totalTime": { "$sum": { "$subtract" : ["$end", "$pageReads[0].start"] }  } } })
db.DocRead.aggregate({"$group": { "_id": null, "totalTime": { "$sum": { "$subtract" : ["$end", "$pageReaijds[0].start"] }  } } })
db.DocRead.aggregate({"$group": { "_id": null, "totalTime": { "$sum": { "$subtract" : ["$end", "$pageReaijds.0.start"] }  } } })
db.DocRead.aggregate({"$group": { "_id": null, "totalTime": { "$sum": { "$subtract" : ["$end", "$pageReads.0.start"] }  } } })
db.DocRead.aggregate({"$project" : {"st" : pageReads[0].start}}, {"$group": { "_id": null, "totalTime": { "$sum": { "$subtract" : ["$end", "$pageReads.0.start"] }  } } })
db.DocRead.aggregate({"$project" : {"st" : "pageReads[0].start"}}, {"$group": { "_id": null, "totalTime": { "$sum": { "$subtract" : ["$end", "st"] }  } } })
db.DocRead.aggregate({"$project" : {"end": 1, "st" : "$pageReads[0].start"}}, {"$group": { "_id": null, "totalTime": { "$sum": { "$subtract" : ["$end", "st"] }  } } })
db.DocRead.find()
db.DocRead.aggregate({"$project" : {"end": 1, "st" : "$pageReads[0].start"}})
db.DocRead.aggregate({"$project" : {"end": 1, "st" : "$pageReads.0.start"}})
db.DocRead.aggregate({"$project" : {"end": 1, "st" : {"$pageReads[0].start"}}})
db.DocRead.aggregate({"$project" : {"end": 1, "st" : "$pageReads[0].start"}})
db.DocRead.aggregate({"$project" : {"end": 1, "st" : "$pageReads[0]"}})
db.DocRead.aggregate({"$project" : {"end": 1, "st" : "$pageReads"}})
db.DocRead.aggregate({"$project" : {"end": 1, "st" : { "$first" : "$pageReads"}}})
db.DocRead.aggregate({"$unwind": {"$pageReads": { "$slice": 1}}})   , {"$project" : {"end": 1, "st" : { "$first" : "$pageReageReads" } } }, {"$group": {"_id": null, "totalTime" : {"$subtract" :  ["$end", "$firstRead.start" ]} }  }  )
db.DocRead.aggregate({"$unwind": "$pageReads"}, { "$group" : {"_id" : "$_id",  "en" : "$end", "firstRead" : { "$first" : "$pageReads" } } }, {"$group": {"_id": null, "totalTime" : {"$subtract" :  ["$en", "$firstRead.start" ]} }  }  )
db.DocRead.aggregate({"$unwind": "$pageReads"}, { "$group" : {"_id" : "$_id",  "en" : "$end", "firstRead" : { "$first" : "$pageReads" } } })
var e = db.DocRead.aggregate({"$unwind": "$pageReads"})
db.DocRead.aggregate({"$unwind": "$pageReads"})
db.DocRead.aggregate({"$unwind": "$pageReads"}, { "$group" : {"_id" : "$_id",  "en" : "$end", "firstRead" : { "$first" : "$pageReads" } } }, {"$group": {"_id": null, "totalTime" : {"$subtract" :  ["$en", "$firstRead.start" ]} }  }  )
db.DocRead.aggregate({"$unwind": "$pageReads"}, { "$group" : {"_id" : "$_id",  "en" : "end", "firstRead" : { "$first" : "$pageReads" } } }, {"$group": {"_id": null, "totalTime" : {"$subtract" :  ["$en", "$firstRead.start" ]} }  }  )
db.DocRead.aggregate({"$unwind": "$pageReads"}, { "$group" : {"_id" : "$_id",  "en" : {"$end":1}, "firstRead" : { "$first" : "$pageReads" } } }, {"$group": {"_id": null, "totalTime" : {"$subtract" :  ["$en", "$firstRead.start" ]} }  }  )
db.DocRead.aggregate({"$unwind": "$pageReads"}, { "$group" : {"_id" : "$_id",  "en" : "end", "firstRead" : { "$first" : "$pageReads" } } }, {"$group": {"_id": null, "totalTime" : {"$subtract" :  ["$en", "$firstRead.start" ]} }  }  )
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" } } })
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": "$end" } })
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "$en": "$end" } })
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": "$end" } })
db.DocRead.aggregate({"$unwind": "$pageReads"})
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, {"en": "$end"} } })
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$sum":  "$end"} } } })
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$sum":  "$end"} } } )
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$sum":  ["$end"]} } } )
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$sum":  [1,"$end"]} } } )
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$add": [0,"$end"]} } } )
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$end": 1} } } )
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$end": "$end" } } } )
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"end": "$end" } } } )
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": "$end" } } } )
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": "$end" } }  )
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }} }  )
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }} }, { "$group" : {"_id" :null, "totalTime" : {"$sum" : {"$subtract": ["$en", "$start" ]}  }}  ) )
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }} }, { "$group" : {"_id" :null, "totalTime" : {"$sum" : {"$subtract": ["$en", "$start" ]}}}})
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }} }, { "$group" : {"_id" :null, "feTime" : {"$subtract": ["$en", "$start" ]}}}})
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }, "delta": {"$subtract": ["$firstRead", "$end" ]  }} } }
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }, "delta": {"$subtract": ["$firstRead", "$end" ]}} } })
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }, "delta": {"$subtract": ["$firstRead", "$end" ]}} })
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }} }, { "$group" : {"_id" :"$_id", "deltaTime" : {"$subtract": ["$en", "$start" ]}}}})
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }} }, { "$group" : {"_id" :"$_id", "deltaTime" : {"$subtract": ["$en", "$start" ]}}})
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }} }, { "$group" : {"_id" :"$_id", "deltaTime" : {"$subtract": ["$en", "$firstReadstart" ]}}})
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }} }, { "$project" : {"deltaTime" : {"$subtract": ["$en", "$firstReadstart" ]}}})
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }} }, { "$project" : {"deltaTime" : {"$subtract": ["$en", "$firstRead.start" ]}}})
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }} }, { "$project" : {"deltaTime" : {"$subtract": ["$en", "$firstRead.start" ]}}}, {"$group": {"_id": null, "total": {"$sum": "$deltaTime" }} ) }
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }} }, { "$project" : {"deltaTime" : {"$subtract": ["$en", "$firstRead.start" ]}}}, {"$group": {"_id": null, "total": {"$sum": "$deltaTime" }} })
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }} }, { "$project" : {"deltaTime" : {"$subtract": ["$en", "$firstRead.start" ]}}}, {"$group": {"_id": "docId", "totalTime": {"$sum": "$deltaTime" }} })
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }} }, { "$project" : {"deltaTime" : {"$subtract": ["$en", "$firstRead.start" ]}}}, {"$group": {"_id": "$docId", "totalTime": {"$sum": "$deltaTime" }} })
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }, "docId": {"$first" : "$docId" } } }, { "$project" : {"deltaTime" : {"$subtract": ["$en", "$firstRead.start" ]}}}, {"$group": {"_id": "$docId", "totalTime": {"$sum": "$deltaTime" }} })
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }, "docId": {"$first" : "$docId" } } }, { "$project" : {"docId": "$docId", "deltaTime" : {"$subtract": ["$en", "$firstRead.start" ]}}}, {"$group": {"_id": "$docId", "totalTime": {"$sum": "$deltaTime" }} })
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }, "docId": {"$first" : "$docId" } } }, { "$project" : {"docId": "$docId", "deltaTime" : {"$subtract": ["$en", "$firstRead.start" ]}}}, {"$group": {"_id": "$docId", "viewCount" : {"$sum": 1 }"totalTime": {"$sum": "$deltaTime" }} })
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }, "docId": {"$first" : "$docId" } } }, { "$project" : {"docId": "$docId", "deltaTime" : {"$subtract": ["$en", "$firstRead.start" ]}}}, {"$group": {"_id": "$docId", "viewCount" : {"$sum": 1 }, "totalTime": {"$sum": "$deltaTime" }} })
db.DocRead.find()
db.DocRead.find().pretty()
db.DocRead.aggregate({"$unwind": "$pageReads"},{ "$group" : {"_id" : "$_id","firstRead" : { "$first" : "$pageReads" }, "en": {"$first": "$end" }, "docId": {"$first" : "$docId" } } }, { "$project" : {"docId": "$docId", "deltaTime" : {"$subtract": ["$en", "$firstRead.start" ]}}}, {"$group": {"_id": "$docId", "viewCount" : {"$sum": 1 }"totalTime": {"$sum": "$deltaTime" }} })
db.Contact.find()
db.Contact.find().pretty()
db.Contact.find()
db.Contact.find({email:"first@visit.com"})
db.Contact.find({email:"first@visit.com"}).pre()
db.Contact.find({email:"first@visit.com"}).pretty()
